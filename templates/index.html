<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#1A73E8">
  <meta name="description" content="Streamlining Task Management for Multi-Location Businesses">
  <title>Fill Your From - Complete Task Management</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
 
  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toast-message">Task created successfully!</span>
  </div>

  <!-- Edit Reason Modal -->
  <div class="modal" id="editReasonModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Reason for Change</h3>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <div class="form-group">
        <label for="editReason">Please provide a reason for this change:</label>
        <textarea class="form-control" id="editReason" rows="3" placeholder="Enter reason..."></textarea>
      </div>
      <button class="btn" id="saveWithReason">Save Changes</button>
    </div>
  </div>

  <!-- Share Task Modal -->
  <div class="modal" id="shareTaskModal">
    <div class="modal-content share-modal-content">
      <div class="modal-header">
        <h3>Share Task with Staff</h3>
        <button class="close-modal" id="closeShareModal">&times;</button>
      </div>
      <div class="form-group">
        <label>Select staff member to share this task with:</label>
        <div class="staff-list-modal" id="staffListModal">
          <!-- Staff options will be populated here -->
        </div>
      </div>
      <button class="btn" id="confirmShare">Share Task</button>
    </div>
  </div>

  <!-- Status Update Modal -->
  <div class="modal" id="statusUpdateModal">
    <div class="modal-content status-update-modal">
      <div class="modal-header">
        <h3>Status Updated</h3>
        <button class="close-modal" id="closeStatusModal">&times;</button>
      </div>
      <div class="form-group">
        <p id="statusUpdateMessage">Your Order No. <span id="statusOrderNo"></span> has been <span id="statusNewStatus"></span>.</p>
      </div>
      <button class="btn" id="closeStatusBtn">OK</button>
    </div>
  </div>

  <!-- Payment Modal -->
  <div class="modal" id="paymentModal">
    <div class="modal-content payment-modal">
      <div class="modal-header">
        <h3>Complete Task with Payment</h3>
        <button class="close-modal" id="closePaymentModal">&times;</button>
      </div>
      <div class="form-group">
        <p><strong>Due Amount: </strong><span id="dueAmountDisplay" class="payment-due">₹0</span></p>
      </div>
      <div class="form-group">
        <label for="finalPaymentAmount">Final Payment Amount *</label>
        <input type="number" id="finalPaymentAmount" class="form-control" placeholder="Enter final payment amount" min="0" step="0.01" required>
      </div>
      <div class="form-group">
        <label for="finalPaymode">Payment Mode *</label>
        <select id="finalPaymode" class="form-control" required>
          <option value="Cash">Cash</option>
          <option value="Card">Card</option>
          <option value="UPI">UPI</option>
          <option value="Online">Online</option>
          <option value="Bank Transfer">Bank Transfer</option>
        </select>
      </div>
      <div class="form-group">
        <label for="paymentNotes">Payment Notes (Offer/Discount Reason)</label>
        <textarea id="paymentNotes" class="form-control" rows="3" placeholder="Enter payment notes, offer details, or discount reason..."></textarea>
      </div>
      <div class="form-row">
        <button class="btn" id="confirmPayment">Complete Task</button>
        <button class="btn cancel-btn" id="cancelPaymentBtn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- User Management Modal -->
  <div class="modal" id="userManagementModal">
    <div class="modal-content user-management-modal">
      <div class="modal-header">
        <h3>User Management</h3>
        <button class="close-modal" id="closeUserModal">&times;</button>
      </div>
      
      <!-- User List -->
      <div class="user-list-container">
        <h4>All Users</h4>
        <div class="staff-list" id="userListContainer">
          <!-- Users will be populated here -->
        </div>
      </div>

      <!-- User Form -->
      <div class="user-form-container">
        <h4 id="userFormTitle">Add New User</h4>
        <form id="userForm">
          <input type="hidden" id="userId">
          <div class="form-row">
            <div class="form-group">
              <label for="userUsername">Username *</label>
              <input type="text" id="userUsername" class="form-control" placeholder="Enter username" required>
            </div>
            <div class="form-group">
              <label for="userEmail">Email</label>
              <input type="email" id="userEmail" class="form-control" placeholder="Enter email">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="userRole">Role *</label>
              <select id="userRole" class="form-control" required>
                <option value="staff">Staff</option>
                <option value="manager">Manager</option>
                <option value="admin">Admin</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="userPassword">Password</label>
              <input type="password" id="userPassword" class="form-control" placeholder="Enter new password">
              <small class="text-muted">Leave blank to keep current password</small>
            </div>
            <div class="form-group">
              <label for="confirmPassword">Confirm Password</label>
              <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm password">
            </div>
          </div>
          <div class="form-row">
            <button type="button" class="btn" id="saveUserBtn">Save User</button>
            <button type="button" class="btn cancel-btn" id="cancelUserBtn">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Left Sidebar Navigation -->
  <nav id="navigation" class="sidebar hidden">
    <div class="sidebar-header">
      <div class="logo">
        <div class="logo-icon">FYF</div>
        <div class="logo-text">
          <h1>Fill Your From</h1>
          <p class="tagline">FYF</p>
        </div>
      </div>
      <button class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="sidebar-menu">
      <ul class="nav-links">
        <li><a href="#" class="nav-link active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
        <li><a href="#" class="nav-link" data-page="tasks"><i class="fas fa-tasks"></i> <span>Tasks</span></a></li>
        <li id="staff-nav" class="hidden"><a href="#" class="nav-link" data-page="staff"><i class="fas fa-users"></i> <span>Staff</span></a></li>
        <li id="reports-nav" class="hidden"><a href="#" class="nav-link" data-page="reports"><i class="fas fa-chart-bar"></i> <span>Reports</span></a></li>
        <li id="database-nav" class="hidden"><a href="#" class="nav-link" data-page="database"><i class="fas fa-database"></i> <span>Service Database</span></a></li>
        <li><a href="#" class="nav-link" data-page="staff-panel"><i class="fas fa-user-friends"></i> <span>Staff Panel</span></a></li>
      </ul>
    </div>

    <div class="sidebar-footer">
      <div class="user-info">
        <div class="user-avatar">
          <i class="fas fa-user-circle"></i>
        </div>
        <div class="user-details">
          <span id="userRoleDisplay">Staff User</span>
        </div>
      </div>
      <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></button>
    </div>
  </nav>

  <!-- Mobile Sidebar Toggle Button -->
  <button class="mobile-sidebar-toggle hidden" id="mobileSidebarToggle">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar Overlay for Mobile -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    <!-- Login Page -->
    <section id="login-page">
      <div class="login-container">
        <!-- Left Panel - Gradient Background -->
        <div class="login-left-panel">
          <div class="login-brand">
            <div class="brand-logo-icon">FYF</div>
            <h1 class="brand-title">Fill Your From</h1>
            <p class="brand-subtitle">Streamlining Task Management for Multi-Location Businesses</p>
          </div>
          <div class="login-illustration">
            <div class="floating-shape shape-1"></div>
            <div class="floating-shape shape-2"></div>
            <div class="floating-shape shape-3"></div>
          </div>
        </div>
        
        <!-- Right Panel - Login Form -->
        <div class="login-right-panel">
          <div class="login-card">
            <div class="login-header">
              <div class="login-logo-mobile">FYF</div>
              <h2 class="login-title">Welcome Back</h2>
              <p class="login-subtitle">Sign in to access your dashboard</p>
            </div>
            
            <!-- Login Type Tabs -->
            <div class="user-type-selector">
              <div class="user-type active" data-role="staff">
                <i class="fas fa-user"></i>
                <span>Staff</span>
              </div>
              <div class="user-type" data-role="manager">
                <i class="fas fa-user-tie"></i>
                <span>Manager</span>
              </div>
              <div class="user-type" data-role="admin">
                <i class="fas fa-user-shield"></i>
                <span>Admin</span>
              </div>
            </div>
            
            <!-- Login Form -->
            <form id="login-form" class="login-form">
              <div class="form-group">
                <label for="username" class="form-label">
                  <i class="fas fa-user"></i>
                  Username
                </label>
                <div class="input-wrapper">
                  <input 
                    type="text" 
                    id="username" 
                    class="form-control" 
                    placeholder="Enter your username" 
                    required
                    autocomplete="username"
                  >
                </div>
              </div>
              
              <div class="form-group">
                <label for="password" class="form-label">
                  <i class="fas fa-lock"></i>
                  Password
                </label>
                <div class="input-wrapper">
                  <input 
                    type="password" 
                    id="password" 
                    class="form-control" 
                    placeholder="Enter your password" 
                    required
                    autocomplete="current-password"
                  >
                </div>
              </div>
              
              <div class="form-footer">
                <label class="remember-me">
                  <input type="checkbox" id="rememberMe">
                  <span>Remember me</span>
                </label>
                <a href="#" class="forgot-password">Forgot Password?</a>
              </div>
              
              <button type="submit" class="btn-login">
                <span>Sign In</span>
                <i class="fas fa-arrow-right"></i>
              </button>
            </form>
            
            <div class="login-footer">
              <p class="footer-text">© 2024 Fill Your From. All rights reserved.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Dashboard -->
    <section id="dashboard-page" class="dashboard hidden">
      <div class="dashboard-header">
        <h2>Dashboard</h2>
        <div class="dashboard-actions">
          <button class="btn-export" id="exportTasksBtn">
            <i class="fas fa-file-excel"></i>
            <span>Export Tasks (Excel)</span>
          </button>
          <select id="dateFilter" class="form-control">
            <option value="today">Today</option>
            <option value="yesterday">Yesterday</option>
            <option value="tomorrow">Tomorrow</option>
            <option value="last30">Last 30 Days</option>
            <option value="all">All Time</option>
          </select>
        </div>
      </div>
      
      <div class="stats-cards">
        <div class="stat-card">
          <h3>Total Tasks</h3>
          <div class="value" id="totalTasks">0</div>
        </div>
        <div class="stat-card">
          <h3>Tasks Today</h3>
          <div class="value" id="tasksToday">0</div>
        </div>
        <div class="stat-card">
          <h3>Completed Tasks</h3>
          <div class="value" id="completedTasks">0</div>
        </div>
        <div class="stat-card" id="revenueCard">
          <h3>Total Revenue</h3>
          <div class="value" id="totalRevenue">₹0</div>
        </div>
      </div>
      
      <!-- Winners Section -->
      <div class="reports-container" id="winnersContainer">
        <h3>Top Performers</h3>
        <div class="report-cards" id="winnersCards">
          <!-- Winners will be populated here -->
        </div>
      </div>
      
      <!-- Overdue Tasks Alert -->
      <div class="reports-container" id="overdueTasksContainer">
        <h3>Overdue Tasks <span class="alert-badge"></span></h3>
        <p>Tasks that are Pending, In Progress, or Hold for more than 24 hours</p>
        <div class="task-table-container">
          <table>
            <thead>
              <tr>
                <th>Order No</th>
                <th>Name</th>
                <th>Service</th>
                <th>Status</th>
                <th>Assigned</th>
                <th>Date</th>
                <th>Hours Overdue</th>
                <th>Due Amount</th>
              </tr>
            </thead>
            <tbody id="overdueTasksTable">
              <!-- Overdue tasks will be inserted here by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="task-table-container">
        <div class="table-header">
          <h3>Recent Tasks</h3>
        </div>
        
        <table>
          <thead>
            <tr>
              <th>Order No</th>
              <th>Name</th>
              <th>Service</th>
              <th>Status</th>
              <th>Assigned</th>
              <th>Shared With</th>
              <th>Date</th>
              <th>Contact</th>
            </tr>
          </thead>
          <tbody id="recentTasksTable">
            <!-- Recent tasks will be inserted here by JavaScript -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Tasks Page -->
    <section id="tasks-page" class="hidden">
      <div class="dashboard-header">
        <h2>Task Management</h2>
        <button class="btn" id="addTaskBtn"><i class="fas fa-plus"></i> Add New Task</button>
      </div>
      
      <!-- Filter Section -->
      <div class="filter-container">
        <h3>Filter Tasks</h3>
        <div class="filter-row">
          <div class="form-group">
            <label for="filterDate">Date</label>
            <select id="filterDate" class="form-control">
              <option value="all">All Dates</option>
              <option value="today">Today</option>
              <option value="yesterday">Yesterday</option>
              <option value="tomorrow">Tomorrow</option>
              <option value="custom">Custom Date</option>
            </select>
          </div>
          
          <div class="form-group" id="customDateContainer" style="display: none;">
            <label for="customDate">Custom Date</label>
            <input type="date" id="customDate" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="filterBranch">Branch</label>
            <select id="filterBranch" class="form-control">
              <option value="all">All Branches</option>
              <option value="BANK ROAD">BANK ROAD</option>
              <option value="UNIVERSITY ROAD">UNIVERSITY ROAD</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="filterStaff">Staff</label>
            <select id="filterStaff" class="form-control">
              <option value="all">All Staff</option>
              <!-- Staff options will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-group">
            <label for="filterStatus">Status</label>
            <select id="filterStatus" class="form-control">
              <option value="all">All Status</option>
              <option value="Received">Received</option>
              <option value="Pending">Pending</option>
              <option value="In Progress">In Progress</option>
              <option value="Completed">Completed</option>
              <option value="Hold">Hold</option>
              <option value="Cancelled">Cancelled</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="filterService">Service</label>
            <select id="filterService" class="form-control">
              <option value="all">All Services</option>
              <!-- Service options will be populated dynamically -->
            </select>
          </div>
        </div>
        <button class="btn" id="applyFilters">Apply Filters</button>
        <button class="btn cancel-btn" id="resetFilters">Reset Filters</button>
      </div>
      
      <!-- Task Form (Initially hidden) -->
      <div class="task-form-container hidden" id="taskFormContainer">
        <h3 id="formTitle">Create New Task</h3>
        <form id="taskForm">
          <div class="form-row">
            <div class="form-group">
              <label for="branchCode">Branch Code *</label>
              <select id="branchCode" class="form-control" required>
                <option value="">Select Branch</option>
                <option value="BANK ROAD">BANK ROAD</option>
                <option value="UNIVERSITY ROAD">UNIVERSITY ROAD</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="customerName">Customer Name *</label>
              <input type="text" id="customerName" class="form-control" placeholder="Enter customer name" required>
            </div>
            
            <div class="form-group">
              <label for="contactNumber">Contact Number *</label>
              <input type="tel" id="contactNumber" class="form-control" placeholder="Enter contact number" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="serviceType">Query/Service *</label>
              <select id="serviceType" class="form-control" required>
                <option value="">Select Service</option>
                <!-- Service options will be populated from database -->
              </select>
              <div class="service-tooltip" id="serviceTooltip"></div>
            </div>
            
            <div class="form-group">
              <label for="assignedTo">Assigned To *</label>
              <select id="assignedTo" class="form-control" required>
                <option value="">Assign Staff</option>
                <!-- Staff options will be populated dynamically -->
              </select>
            </div>
            
            <div class="form-group">
              <label for="paymode">Paymode</label>
              <select id="paymode" class="form-control">
                <option value="Cash">Cash</option>
                <option value="Card">Card</option>
                <option value="UPI">UPI</option>
                <option value="Online">Online</option>
                <option value="Bank Transfer">Bank Transfer</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="servicePrice">Service Price (₹)</label>
              <input type="number" id="servicePrice" class="form-control" placeholder="Enter service price" min="0" step="0.01">
            </div>
            
            <div class="form-group">
              <label for="paidAmount">Paid Amount (₹)</label>
              <input type="number" id="paidAmount" class="form-control" placeholder="Enter paid amount" min="0" step="0.01">
            </div>
            
            <div class="form-group">
              <label for="serviceCharge">Service Charge (₹)</label>
              <input type="number" id="serviceCharge" class="form-control" placeholder="Enter service charge" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="description">Description *</label>
            <textarea id="description" class="form-control" rows="3" placeholder="Enter task description" required></textarea>
          </div>
          
          <div class="form-row">
            <button type="submit" class="btn" id="submitTaskBtn">Submit Task</button>
            <button type="button" class="btn cancel-btn" id="cancelTaskBtn">Cancel</button>
          </div>
        </form>
      </div>
      
      <!-- Task Table -->
      <div class="task-table-container">
        <div class="table-header">
          <h3>All Tasks</h3>
          <input type="text" class="search-box" id="taskSearch" placeholder="Search by Order No, Name, or Mobile...">
        </div>
        
        <table>
          <thead>
            <tr>
              <th>Order No</th>
              <th>Name</th>
              <th>Service</th>
              <th>Status</th>
              <th>Assigned</th>
              <th>Shared With</th>
              <th>Date</th>
              <th>Contact</th>
              <th id="actionsHeader">Actions</th>
            </tr>
          </thead>
          <tbody id="taskTableBody">
            <!-- Task rows will be inserted here by JavaScript -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Staff Page -->
    <section id="staff-page" class="hidden">
      <div class="dashboard-header">
        <h2>Staff Management</h2>
        <button class="btn" id="addStaffBtn"><i class="fas fa-plus"></i> Add Staff</button>
      </div>
      
      <div class="staff-list" id="staffListContainer">
        <!-- Staff cards will be populated here -->
      </div>
      
      <!-- Staff Alerts -->
      <div class="reports-container">
        <h3>Staff Task Alerts</h3>
        <div class="report-cards" id="staffAlertsContainer">
          <!-- Staff alerts will be populated here -->
        </div>
      </div>
    </section>

    <!-- Reports Page -->
    <section id="reports-page" class="hidden">
      <div class="dashboard-header">
        <h2>Reports & Analytics</h2>
        <div class="date-filter">
          <select id="reportDateFilter" class="form-control">
            <option value="today">Today</option>
            <option value="yesterday">Yesterday</option>
            <option value="tomorrow">Tomorrow</option>
            <option value="last30" selected>Last 30 Days</option>
            <option value="all">All Time</option>
          </select>
        </div>
      </div>
      
      <!-- Summary Statistics -->
      <div class="enhanced-reports">
        <div class="report-summary-card">
          <h3>Total Tasks</h3>
          <div class="value" id="reportTotalTasks">0</div>
        </div>
        <div class="report-summary-card">
          <h3>Completed Tasks</h3>
          <div class="value" id="reportCompletedTasks">0</div>
        </div>
        <div class="report-summary-card">
          <h3>Pending Tasks</h3>
          <div class="value" id="reportPendingTasks">0</div>
        </div>
        <div class="report-summary-card">
          <h3>Total Revenue</h3>
          <div class="value" id="reportTotalRevenue">₹0</div>
        </div>
      </div>
      
      <!-- Branch Revenue Breakdown -->
      <div class="revenue-breakdown">
        <h3>Branch Revenue Breakdown</h3>
        <div class="report-cards" id="branchRevenueBreakdown">
          <!-- Branch revenue cards will be populated here -->
        </div>
      </div>
      
      <!-- Staff Performance -->
      <div class="reports-container">
        <h3>Staff Performance Summary</h3>
        <div class="report-cards" id="staffPerformanceReports">
          <!-- Staff performance reports will be populated here -->
        </div>
      </div>
      
      <!-- Task Summary by Staff -->
      <div class="reports-container">
        <h3>Task Summary by Staff</h3>
        <div class="report-cards" id="staffPerformanceCards">
          <!-- Staff performance cards will be populated here -->
        </div>
      </div>
    </section>

    <!-- Service Database Page -->
    <section id="database-page" class="hidden">
      <div class="dashboard-header">
        <h2>Service Database</h2>
        <button class="btn" id="addServiceBtn"><i class="fas fa-plus"></i> Add New Service</button>
      </div>
      
      <div class="service-database">
        <div class="table-header">
          <h3>Service List</h3>
          <input type="text" class="search-box" id="serviceSearch" placeholder="Search services...">
        </div>
        
        <div id="serviceListContainer">
          <!-- Service list will be populated here -->
        </div>
      </div>
      
      <!-- Service Form (Initially hidden) -->
      <div class="task-form-container hidden" id="serviceFormContainer">
        <h3 id="serviceFormTitle">Add New Service</h3>
        <form id="serviceForm">
          <div class="form-row">
            <div class="form-group">
              <label for="serviceName">Service Name *</label>
              <input type="text" id="serviceName" class="form-control" placeholder="Enter service name" required>
            </div>
            
            <div class="form-group">
              <label for="servicePriceDB">Service Price (₹)</label>
              <input type="number" id="servicePriceDB" class="form-control" placeholder="Enter service price" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="serviceFee">Fee (₹)</label>
              <input type="number" id="serviceFee" class="form-control" placeholder="Enter fee" min="0" step="0.01">
            </div>
            
            <div class="form-group">
              <label for="serviceChargeDB">Service Charge (₹)</label>
              <input type="number" id="serviceChargeDB" class="form-control" placeholder="Enter service charge" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="serviceLink">Service Link</label>
            <input type="url" id="serviceLink" class="form-control" placeholder="Enter service link">
          </div>
          
          <div class="form-group">
            <label for="serviceNote">Note/Alert</label>
            <textarea id="serviceNote" class="form-control" rows="3" placeholder="Enter note or alert for this service"></textarea>
          </div>
          
          <div class="form-row">
            <button type="submit" class="btn" id="submitServiceBtn">Save Service</button>
            <button type="button" class="btn cancel-btn" id="cancelServiceBtn">Cancel</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Staff Panel -->
    <section id="staff-panel" class="hidden">
      <div class="dashboard-header">
        <h2>Staff Panel - All Tasks Overview</h2>
        <div class="user-info">
          <span>Welcome, <strong id="currentStaffName">Staff Member</strong></span>
        </div>
      </div>
      
      <!-- Statistics Cards -->
      <div class="staff-panel-stats">
        <div class="staff-stat-card">
          <h3>Total Tasks</h3>
          <div class="value" id="staffTotalTasks">0</div>
        </div>
        <div class="staff-stat-card">
          <h3>Pending Tasks</h3>
          <div class="value" id="staffPendingTasks">0</div>
        </div>
        <div class="staff-stat-card">
          <h3>My Tasks</h3>
          <div class="value" id="staffMyTasks">0</div>
        </div>
        <div class="staff-stat-card">
          <h3>Extra Tasks</h3>
          <div class="value" id="staffExtraTasks">0</div>
        </div>
      </div>
      
      <!-- Tabs -->
      <div class="tab-container">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="all-tasks">All Tasks</button>
          <button class="tab-btn" data-tab="my-tasks">My Tasks</button>
          <button class="tab-btn" data-tab="extra-tasks">Extra Tasks</button>
        </div>
        
        <!-- All Tasks Tab -->
        <div class="tab-content active" id="all-tasks">
          <div class="task-table-container">
            <div class="table-header">
              <h3>All Tasks from All Branches</h3>
              <input type="text" class="search-box" id="allTasksSearch" placeholder="Search tasks...">
            </div>
            
            <div id="allTasksContainer">
              <!-- All tasks will be populated here -->
            </div>
          </div>
        </div>
        
        <!-- My Tasks Tab -->
        <div class="tab-content" id="my-tasks">
          <div class="task-table-container">
            <div class="table-header">
              <h3>My Assigned Tasks</h3>
            </div>
            
            <div id="myTasksContainer">
              <!-- My tasks will be populated here -->
            </div>
          </div>
        </div>
        
        <!-- Extra Tasks Tab -->
        <div class="tab-content" id="extra-tasks">
          <div class="task-table-container extra-tasks-section">
            <div class="table-header">
              <h3>Extra Tasks I've Taken Over</h3>
            </div>
            
            <div id="extraTasksContainer">
              <!-- Extra tasks will be populated here -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>